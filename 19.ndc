let patterns, designs = read_file("input/2024/19.txt").trim.paragraphs;
patterns = patterns.split(", ");

pure fn is_possible(design) {
	if design == "" {
		return 1;
	}

	patterns
		.filter(fn(pat) => design.starts_with(pat))
		.map(fn(pat) => is_possible(design[(pat.len)..])).sum
}

let out = designs.lines.map(fn(design) => is_possible(design));
print(out.count(fn(n) => n > 0), out.sum);